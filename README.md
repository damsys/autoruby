# autoruby

## 機能の概要

CSV ファイルの全レコードについて、指定のカラムのふりがなを既存カラムまたは新規カラムに出力します。

## 使い方

```
uv run python autoruby.py SOURCE.csv OUTPUT.csv 名前 ふりがな
```

以下を引数に取ります:

* 入力元の CSV
* 出力先の CSV
* ふりがなを付ける対象のカラム名
* ふりがなを出力する先のカラム名


## 動作の例

以下のような CSV ファイル input.csv があるとします:

```csv
都道府県,県庁所在地
北海道,札幌市
青森県,青森市
岩手県,盛岡市
...
```

以下のようにコマンドを実行します:

```
uv run python autoruby.py input.csv output.csv 県庁所在地 県庁所在地ふりがな
```

以下のような output.csv が生成されます:

```
都道府県,県庁所在地,県庁所在地ふりがな
北海道,札幌市,さっぽろし
青森県,青森市,あおもりし
岩手県,盛岡市,もりおかし
...
```

## 動作の仕様

* 入出力する CSV ファイルは Excel フォーマットの CSV とする。
* 文字コードは Shift_JIS (CP932) であるとする。
* CSV ファイルの 1 行目はヘッダー行であるとし、引数で指定するカラム名との対応付けに使用する。
* ふりがなを出力する先のカラム名 については以下の動作とする:
    * ヘッダー行に該当カラムがある場合
        * そのカラムにふりがなを出力する。
    * ヘッダー行に該当カラムがない場合
        * 末尾に新規に指定のカラムを追加し、そのカラムにふりがなを出力する。
